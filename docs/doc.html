<h3>Concepts</h3>
<h4>Form Vault</h4>
<p>The form vault is an element where all the forms for the various item types reside. Usually this form vault is set to display none so that the forms only appear when the control button for that type is clicked.</p>
<h4>Variable Vault</h4>
<p>Listable is an elaborate UI element for form entry. That being the case there must be an input element representing the listable in the form. Listable does this by creating and updating hidden input fields which correspond to the listable itself. The Variable Vault is where these hidden inputs are stored. By default, listable assumes that first form ancestor is the variable vault. If you want your listable to not be an offspring of your form, you can set the Variable Vault to be the form regardless of where the listable itself is.</p>
<h4>Depth</h4>
<p>Listable Items can have a depth attribute. This depth attribute most likely will be used to show hierarchy with Items with equal depth being siblings or cousins, Items with more depth being offspring and finally Items with less being ancestors. This can be used to create outlines.</p>
<h4>Field Dividers</h4>
<p>Field Dividers are the spaces between Items in a Listable. These spaces act as an add button for placing Items between other Items. If you have no need for spaces between items, you can turn Field Dividers off by setting the field_dividers_enabled setting to false.</p>
<h4>Controls</h4>
<p>Listable is designed to be as flexible as possible with how your Item types are inputted and processed. By default, Listable provides a set of buttons we call Controls. These Controls are generated via your type definitions and open the type's corresponding form with FancyBox. Listable's save function will automatically close the FancyBox modal when you are done. If you don't want to use Controls, just set the controls setting to false. If you still want something to happen when you click the add button on the field divider, just set the field_divider_click callback. You can add items anyway you want with Listable.</p>
<p>&nbsp;</p>
<h3>Option</h3>
<h4>add <em>boolean (true)</em></h4>
<p>Apparently this option doesnt do anything, but it should enable or disable the ability to add items to a listable list.</p>
<h4>add_after <em>boolean (true)</em></h4>
<p>Apparently this option is broken, but if false, it should add the listable item before the field divider instead of after.</p>
<h4>add_image <em>filepath ("/javascripts/listable/images/add.png")</em></h4>
<p>Sets the file path for the add icon.</p>
<h4>auto_build <em>boolean (true)</em></h4>
<p>When true, auto_build will tell listable to build out the listable based on the hidden inputs. Leaving this as 'true' is highly recommended.</p>
<h4>connectWith <em>selector ('')</em></h4>
<p>This option is identical to the <a href="http://api.jqueryui.com/sortable/#option-connectWith">connectWith option for sortable</a>. It is a selector for other listable elements with which this listable should be connected to. It is a one-way relationship.</p>
<h4>controls <em>boolean (true)</em></h4>
<p>A boolean which turns on or off the listable controls. When false, the controls are not generated.</p>
<h4>delete <em>boolean (true)</em></h4>
<p>A boolean which turns on or off a listable's ability to delete items.</p>
<h4>delete_confirmation <em>boolean (false)</em></h4>
<p>A boolean which turns on or off a warning when deleting an item.</p>
<h4>delete_image <em>filepath ("/javascripts/listable/images/delete.png")</em></h4>
<p>Sets the file path for the delete icon.</p>
<h4>depth <em>boolean (false)</em></h4>
<p>A boolean which turns on or off the depth attribute for the listable items.</p>
<h4>deeper_image <em>filepath ("/javascripts/listable/images/right_arrow.png")</em></h4>
<p>Sets the file path for the deeper icon.</p>
<h4>edit <em>boolean (true)</em></h4>
<p>A boolean which turns on or off a listable's ability to edit items.</p>
<h4>edit_image <em>filepath ("/javascripts/listable/images/edit.png")</em></h4>
<p>Sets the file path for the edit icon.</p>
<h4>fancybox_padding <em>integer (null)</em></h4>
<p>Sets the padding amount between the FancyBox wrapper and its content.</p>
<h4>field_dividers_enabled <em>boolean (true)</em></h4>
<p>Whether field dividers should be created initially and in between every listable item. Could be set to false for custom ways to add listable items.</p>
<h4>form_vault <em>selector ('#listable-form-vault')</em></h4>
<p>The element where all the form for the items are stored. Usually is a hidden '&lt;div&gt;' so the forms are also hidden.</p>
<h4>gear_image <em>filepath ("")</em></h4>
<p>Sets the file path for the gear icon. The gear can be used to access other icons such as edit and delete icons.</p>
<h4>gear_transition <em>string ("fade")</em></h4>
<p>Sets the transition used to show the other icons. Options are slide or fade.</p>
<h4>image_dragging <em>boolean (true)</em></h4>
<p>Whether to allow image dragging of images inside the listable. True = draggable images. False = disabled image dragging.</p>
<h4>initial_add <em>boolean (true)</em></h4>
<p>If set to true, the listable will create one more field divider than there are items.</p>
<h4>max_depth <em>integer (null)</em></h4>
<p>Sets a maximum number of times an item can be indented.</p>
<h4>shallower_image <em>filepath ("/javascripts/listable/images/left_arrow.png")</em></h4>
<p>Sets the file path for the shallower icon. The shallower icon decreases the depth of an item.</p>
<h4>types <em>array of objects ([])</em></h4>
<p>Declares what types of items your listable can hold. Each type is declared using an object. Here is an example of an object delcaration:</p>
<pre>
   var todo = {
      type: 'todo',
      formid: 'todo_item',
      prefix: '', // optional
      variables: ['id','item'],
      display: function(vars) {
         return '&lt;p&gt;'+vars.item+'&lt;/p&gt;';
      }
   };
</pre>
<p>type - Type is the name for the type. It is how an item's type is defined. When the hidden inputs are created this is the value for the 'type[]' input.</p>
<p>formid - This is the id of the form which should be displayed for this item type. The form should have an input for ever variable of this type. This id is how it identifies the inputs for when the item is save and how the form is pulled up when its control button is clicked.</p>
<p>prefix (opt) - This is a prefix which is added to the name or id of the variables to delineate them from any other inputs on the rest of the page.</p>
<p>variables - This is a list of all the variables capable of being stored by this listable item type. These variables will be populated by the fields under the given formid. These variables are also passed to various functions specific to the type such as the display function.</p>
<p>display - This function is used to determine the contents of the listable item. it is passed one parameter which is an object of all the variables for that type with their values. In the example above, each todo item can be seen as a &lt;p&gt; tag with its text set to the item variable of that item.</p>
<p>&nbsp;</p>
<h3>Callbacks</h3>
<h4>after_delete <em>function</em></h4>
<p>This function is called after an item is deleted.</p>
<h4>after_save <em>function</em></h4>
<p>This function is called after an item is saved. It can be overwritten by a callback passed to the save method and is executed both when updating an item and creating an item.</p>
<h4>before_delete <em>function</em></h4>
<p>This function is called before an item is deleted.</p>
<h4>beforeDisplay <em>function</em></h4>
<p>This function is called before an item's display function is called. It can be overwritten by a callback passed to the save method.</p>
<h4>beforeSave <em>function</em></h4>
<p>This function is called before an item is saved. It can be overwritten by a callback passed to the save method and is executed both when updating an item and creating an item.</p>
<h4>editOnComplete <em>function (itemType.formid)</em></h4>
<p>This function is called when, after editing, the fancybox's onComplete callback is fired. So it is fired once the fancybox overlay is completely open. It is given one parameter, the current item type's form id.</p>
<h4>field_divider_click <em>function</em></h4>
<p>This function is overrides the default callback called when a field divider is clicked. It is passed all the normal parameters passed to a jQuery click event callback.</p>
<h4>over <em>function</em></h4>
<p>This callback is identical to the <a href="http://api.jqueryui.com/sortable/#event-over">over event for sortable</a>. It is a callback called when an item is moved into another sortable list.</p>
<h4>onTransfer <em>function</em></h4>
<p>This callback is called after the listable transfer method. This callback is given two parameters, event data and the ui variable passed by <a href="http://api.jqueryui.com/sortable/#event-update">sortable to the update callback</a>.</p>
<h4>update <em>function</em></h4>
<p>This callback is called after the listable onTransfer method and is called every time the <a href="http://api.jqueryui.com/sortable/#event-update">sortable update event</a> is fired. This callback is given two parameters, event data and the ui variable passed by the sortable update event.</p>
<p>&nbsp;</p>
<h3>Public Methods</h3>
<h4>listable( 'option' [, options] ) <em>object</em></h4>
<p>This method is called via the plugin method, like so:</p>
<pre>
   $('.todo').listable('option'); // Returns an object of all options
   $('.todo').listable('option', 'delete'); // Returns the value of the 'delete' option
   $('.todo').listable('option', 'delete', false); // Sets the value of the 'delete' option to false
   $('.todo').listable('option', {
      delete: false,
      edit_image: '/images/edit_icon.png'
   }); // Sets multiple values of options
</pre>
<h4>listable( 'save', typeObject [, options] ) <em>object</em></h4>
<h4>listable( 'save', typeObject [, beforeSave, after_save] ) <em>object</em></h4>
<p>This method is called to update the listable, usually after submitting the form associated with a listable item type.</p>
<p>In simplest form, you call the function with only the typeObject argument like so:</p>
<pre>
   $('.todo').listable('save', todo); // Saves or Updates listable todo item based on its form
</pre>
<p>The listable will take all the input values from the formid in the typeObject and update or create the corresponding listable item.</p>
<p>In addition to creating/updating the listable, you can create call backs for before and after the listable item is saved like the following:</p>
<pre>
   // Just the beforeSave callback
   $('.todo').listable('save', todo, function(itemType, vars) {
      console.log(itemType.formid); // Prints the formid for the given type.
   });

   // The beforeSave and after_save callback
   $('.todo').listable('save', todo, function(itemType, vars) {
      console.log(itemType.formid); // Prints the formid for the given type.
   }, function(itemType) {
      alert("Item type "+itemType.type+" saved!!");   // Creates alert which tells the type of the item saved.
   });

   function capitaliseFirstLetter(string)
   {
       return string.charAt(0).toUpperCase() + string.slice(1);
   }

   // Define callbacks with options array
   $('.todo').listable('save', todo, {
      beforeSave: function(itemType, vars) {
         console.log(itemType.formid); // Prints the formid for the given type.
      },
      after_save: function(itemType) {
         alert("Item type "+itemType.type+" saved!!");   // Creates alert which tells the type of the item saved.
      },
      beforeDisplay: function(itemType, vars) {
         // Do a little pre-processing
         vars.item = capitaliseFirstLetter(vars.item);
      }
   });
</pre>
<h4>listable( 'refresh' ) <em>object</em></h4>
<p>This method is called to update the listable visual appearance. This function is called internally any time the listable is changed. If you manually change the listable variables in the variable_vault, call the refresh method to reflect those changes in the listable visual appearance.</p>
<h4>listable( 'transfer' ) <em>object</em></h4>
<p>This method is called to update the listables involved in transferring an item from one listable to another. This function is called internally any time a listable item is dragged from a different listable. This function updates the variables in the variable vault and updates some classes of the item.</p>
<h4>listable( 'update_order' ) <em>object</em></h4>
<p>This method is called to update the order variables in the variable vault to correspond to visual representation.</p>

<h3>Public variables</h3>
<h4>$.fn.listable.current_listable</h4>
<p>Sets the current_listable. Useful when saving changes to a listable on a page with multiple listables.</p>
<p>&nbsp;</p>
<p style="padding-left: 30px;">&nbsp;</p>
